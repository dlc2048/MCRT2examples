# Example of EM cross-section plot
# Calculate the EM cross-section and stopping power of water and tungsten
# Using EPDL97 data library for photon, and equation based PEGSLESS algorithm
# for electron and positron.
#
# geometry build is required before run this code.
# builder command
# > RT2builder -i world.inp
#
# MC run command
# > RT2mc -i mc.inp -o mc.out
#
# The cross-section can be plotted by Python script.
# Python run command
# > python3 plot.py  [Linux]
# > python  plot.py  [Windows]
#
# Attached image files are the result of Python script.
# In electron/positron cross-section image, 
# dotted red lines are stopping power.

CUDA_SETTINGS block_per_sm=128 buffer_ratio=0.6

PHOTON   print_xs=1  production_cutoff=0.001  transport_cutoff=0.001
ELECTRON print_xs=1  production_cutoff=0.01   transport_cutoff=0.01

# disable neutron/ion transport
NEUTRON        activate=0  
NEUTRON_HIGH   activate=0
GENERIC_ION    activate=0

COMPOUND vacuum    0.0
COMPOUND hydrogen  0.08988 101      99.98 1002     0.02
COMPOUND oxygen    1.141   8016     99.56 8017     0.44
COMPOUND water     1.0     hydrogen    -2 oxygen     -1
COMPOUND tungsten  19.25   74182     26.5 74183    14.3 74184    30.6 74186 28.4

ASSIGN region=t_tungsten  compound=tungsten
ASSIGN region=t_water     compound=water
ASSIGN region=void        compound=vacuum

ENTRY ebin  1
ENTRY eprob 1
ENTRY dbin  1
ENTRY dprob 1

# dummy beam (we want only the cross section data)
BEAM_GLOBAL mode=macro nps=1

BEAM_CYLINDER name=beam             \
              pid=-1                \
			  position=0,0,0        \ 
			  radius=0,0            \
			  height=0              \
              type=linear           \
			  weight=1              \
			  direction=0,0,-1      \
			  energy=ebin,eprob     \
			  divergence=dbin,dprob
